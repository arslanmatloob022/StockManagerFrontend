{
  "version": 3,
  "sources": ["../../@fullcalendar/premium-common/index.js"],
  "sourcesContent": ["import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, isValidDate, addDays } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment } from '@fullcalendar/core/preact.js';\n\nconst UPGRADE_WINDOW = 365 + 7; // days. 1 week leeway, for tz shift reasons too\nconst INVALID_LICENSE_URL = 'https://fullcalendar.io/docs/schedulerLicenseKey#invalid';\nconst OUTDATED_LICENSE_URL = 'https://fullcalendar.io/docs/schedulerLicenseKey#outdated';\nconst PRESET_LICENSE_KEYS = [\n    'GPL-My-Project-Is-Open-Source',\n    'CC-Attribution-NonCommercial-NoDerivatives',\n];\nconst CSS = {\n    position: 'absolute',\n    zIndex: 99999,\n    bottom: '1px',\n    left: '1px',\n    background: '#eee',\n    borderColor: '#ddd',\n    borderStyle: 'solid',\n    borderWidth: '1px 1px 0 0',\n    padding: '2px 4px',\n    fontSize: '12px',\n    borderTopRightRadius: '3px',\n};\nfunction buildLicenseWarning(context) {\n    let key = context.options.schedulerLicenseKey;\n    let currentUrl = typeof window !== 'undefined' ? window.location.href : '';\n    if (!isImmuneUrl(currentUrl)) {\n        let status = processLicenseKey(key, context.pluginHooks.premiumReleaseDate);\n        if (status !== 'valid') {\n            return (createElement(\"div\", { className: \"fc-license-message\", style: CSS }, (status === 'outdated') ? (createElement(Fragment, null,\n                'Your license key is too old to work with this version. ',\n                createElement(\"a\", { href: OUTDATED_LICENSE_URL }, \"More Info\"))) : (createElement(Fragment, null,\n                'Your license key is invalid. ',\n                createElement(\"a\", { href: INVALID_LICENSE_URL }, \"More Info\")))));\n        }\n    }\n    return null;\n}\n/*\nThis decryption is not meant to be bulletproof. Just a way to remind about an upgrade.\n*/\nfunction processLicenseKey(key, premiumReleaseDate) {\n    if (PRESET_LICENSE_KEYS.indexOf(key) !== -1) {\n        return 'valid';\n    }\n    const parts = (key || '').match(/^(\\d+)-fcs-(\\d+)$/);\n    if (parts && (parts[1].length === 10)) {\n        const purchaseDate = new Date(parseInt(parts[2], 10) * 1000);\n        const releaseDate = config.mockSchedulerReleaseDate || premiumReleaseDate;\n        if (isValidDate(releaseDate)) { // token won't be replaced in dev mode\n            const minPurchaseDate = addDays(releaseDate, -UPGRADE_WINDOW);\n            if (minPurchaseDate < purchaseDate) {\n                return 'valid';\n            }\n            return 'outdated';\n        }\n    }\n    return 'invalid';\n}\nfunction isImmuneUrl(url) {\n    return /\\w+:\\/\\/fullcalendar\\.io\\/|\\/examples\\/[\\w-]+\\.html$/.test(url);\n}\n\nconst OPTION_REFINERS = {\n    schedulerLicenseKey: String,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/premium-common',\n    premiumReleaseDate: '2024-07-12',\n    optionRefiners: OPTION_REFINERS,\n    viewContainerAppends: [buildLicenseWarning],\n});\n\nexport { index as default };\n"],
  "mappings": ";;;;;;;;;;AAIA,IAAM,iBAAiB,MAAM;AAC7B,IAAM,sBAAsB;AAC5B,IAAM,uBAAuB;AAC7B,IAAM,sBAAsB;AAAA,EACxB;AAAA,EACA;AACJ;AACA,IAAM,MAAM;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,SAAS;AAAA,EACT,UAAU;AAAA,EACV,sBAAsB;AAC1B;AACA,SAAS,oBAAoB,SAAS;AAClC,MAAI,MAAM,QAAQ,QAAQ;AAC1B,MAAI,aAAa,OAAO,WAAW,cAAc,OAAO,SAAS,OAAO;AACxE,MAAI,CAAC,YAAY,UAAU,GAAG;AAC1B,QAAI,SAAS,kBAAkB,KAAK,QAAQ,YAAY,kBAAkB;AAC1E,QAAI,WAAW,SAAS;AACpB,aAAQ,EAAc,OAAO,EAAE,WAAW,sBAAsB,OAAO,IAAI,GAAI,WAAW,aAAe;AAAA,QAAc;AAAA,QAAU;AAAA,QAC7H;AAAA,QACA,EAAc,KAAK,EAAE,MAAM,qBAAqB,GAAG,WAAW;AAAA,MAAC,IAAM;AAAA,QAAc;AAAA,QAAU;AAAA,QAC7F;AAAA,QACA,EAAc,KAAK,EAAE,MAAM,oBAAoB,GAAG,WAAW;AAAA,MAAC,CAAE;AAAA,IACxE;AAAA,EACJ;AACA,SAAO;AACX;AAIA,SAAS,kBAAkB,KAAK,oBAAoB;AAChD,MAAI,oBAAoB,QAAQ,GAAG,MAAM,IAAI;AACzC,WAAO;AAAA,EACX;AACA,QAAM,SAAS,OAAO,IAAI,MAAM,mBAAmB;AACnD,MAAI,SAAU,MAAM,CAAC,EAAE,WAAW,IAAK;AACnC,UAAM,eAAe,IAAI,KAAK,SAAS,MAAM,CAAC,GAAG,EAAE,IAAI,GAAI;AAC3D,UAAM,cAAc,OAAO,4BAA4B;AACvD,QAAI,YAAY,WAAW,GAAG;AAC1B,YAAM,kBAAkB,QAAQ,aAAa,CAAC,cAAc;AAC5D,UAAI,kBAAkB,cAAc;AAChC,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AAAA,EACJ;AACA,SAAO;AACX;AACA,SAAS,YAAY,KAAK;AACtB,SAAO,uDAAuD,KAAK,GAAG;AAC1E;AAEA,IAAM,kBAAkB;AAAA,EACpB,qBAAqB;AACzB;AAEA,IAAI,QAAQ,aAAa;AAAA,EACrB,MAAM;AAAA,EACN,oBAAoB;AAAA,EACpB,gBAAgB;AAAA,EAChB,sBAAsB,CAAC,mBAAmB;AAC9C,CAAC;",
  "names": []
}
