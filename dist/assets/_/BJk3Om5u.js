import{s as t}from"./Dvmd-DKe.js";import{p as e}from"./DO9R2H4G.js";import{c as r}from"./Djts9Lmg.js";import{v as o}from"./DuWygBDP.js";const s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,n=/^[a-zA-Z]:\\/;const i=["http","https"],p=["nofollow"],f={};function c(c){const l=c||f,m=l.protocols||i,u=r(l.test);return function(r){o(r,"element",(function(r,o,i){if("a"===r.tagName&&"string"==typeof r.properties.href&&u(r,o,i)){const o=r.properties.href;if(function(t){if("string"!=typeof t)throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return!n.test(t)&&s.test(t)}(o)?m.includes(o.slice(0,o.indexOf(":"))):o.startsWith("//")){const o=a(l.content,r),s=o&&!Array.isArray(o)?[o]:o,n=a(l.rel,r)||p,i="string"==typeof n?e(n):n,f=a(l.target,r),c=a(l.properties,r);if(c&&Object.assign(r.properties,t(c)),i.length>0&&(r.properties.rel=[...i]),f&&(r.properties.target=f),s){const e=a(l.contentProperties,r)||{};r.children.push({type:"element",tagName:"span",properties:t(e),children:t(s)})}}}}))}}function a(t,e){return"function"==typeof t?t(e):t}export{c as default};
