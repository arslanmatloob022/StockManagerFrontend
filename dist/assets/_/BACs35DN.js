import{_ as s}from"./DbXO2Bwd.js";import{_ as a}from"./CpprL1c_.js";import{_ as l}from"./CovAPdDx.js";import{_ as e}from"./Bx6q4Kdm.js";import{_ as i}from"./B0W5jPJA.js";import{_ as t}from"./Di-XzD_V.js";import{_ as r}from"./LQmerVSA.js";import{_ as n}from"./ZiQZdQ7P.js";import{_ as o}from"./B1nunnCQ.js";import{e as m,S as d,a as u,c,o as p,g as v,j as f,v as h,k as g,l as j,J as _,ag as w,H as k,K as y,u as U,s as b,x as C,F as x,C as R,aK as A,A as E,y as L,a2 as I}from"../../index-BnGzoMia.js";import{_ as M,a as N}from"./BVoMQLtI.js";import{u as P,A as S}from"./gGlCEjCw.js";import{f as T}from"./PANFtK5j.js";import"./Bx8_V_sM.js";import"./CQZ7Xn6C.js";import"./DQVoh5Hc.js";import"./VIMGMjZ5.js";import"./D5UZqAJ_.js";import"./gfZgleAp.js";import"./h5PKOuzv.js";import"./iUM7Auia.js";/* empty css        */import"./BEoojC2K.js";import"./wk-d1_ZX.js";import"./BPWzH7D8.js";import"./Dl_w8SzC.js";import"./BBfFe7QG.js";const H={class:"list-view-toolbar"},K={class:"list-info"},V={key:0},W={key:1},$={class:"buttons"},q={class:"list-view list-view-v1"},z=h("img",{class:"light-image",src:M,alt:""},null,-1),B=h("img",{class:"dark-image",src:N,alt:""},null,-1),D={class:"list-view-inner"},F={class:"list-view-item-inner"},J={class:"meta-left"},O={class:"meta-right"},Y={class:"tags"},G={class:"stats"},Q={class:"stat"},X=h("span",null,"Phone",-1),Z=h("div",{class:"separator"},null,-1),ss={class:"stat"},as=h("span",null,"Role",-1),ls=h("div",{class:"separator"},null,-1),es={class:"stat"},is=h("span",null,"Last login",-1),ts=h("a",{role:"menuitem",class:"dropdown-item is-media"},[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-user-alt"})]),h("div",{class:"meta"},[h("span",null,"Profile"),h("span",null,"View profile")])],-1),rs=["onClick"],ns=[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-bubble"})],-1),h("div",{class:"meta"},[h("span",null,"Edit"),h("span",null,"Update User Information")],-1)],os=h("a",{role:"menuitem",href:"#",class:"dropdown-item is-media"},[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-travel"})]),h("div",{class:"meta"},[h("span",null,"Transfer"),h("span",null,"Transfer to other list")])],-1),ms=h("hr",{class:"dropdown-divider"},null,-1),ds=["onClick"],us=[h("div",{class:"icon"},[h("i",{"aria-hidden":"true",class:"lnil lnil-trash"})],-1),h("div",{class:"meta"},[h("span",null,"Remove"),h("span",null,"Remove from list")],-1)],cs=I(m({__name:"UsersList",setup(m){const I=P(),M=d(),N=u(!1),cs=u(""),ps=()=>{N.value=!1},vs=()=>{N.value=!0},fs=u([{id:"",password:"",last_login:"",email:"",phone_number:"",username:"",role:"",is_active:!1,is_staff:!1,is_superuser:!1,store:"",user_permissions:[]}]),hs=async()=>{try{const s=await M.get("/user/");fs.value=s.data}catch(s){console.log(s)}};function gs(s){if(s){const a=s.trim().split(" "),l=a[0]?.[0]?.toUpperCase()||"",e=a[1]?.[0]?.toUpperCase()||"";return`${l}${e}`||l||e}return"N/A"}const js=u(""),_s=c((()=>js.value?fs.value.filter((s=>s?.username.match(new RegExp(js.value,"i"))||s?.email.match(new RegExp(js.value,"i")))):fs.value));return p((()=>{hs()})),(m,d)=>{const u=o,c=n,p=r,M=t,P=i,fs=e,ws=l,ks=a,ys=s;return v(),f(x,null,[h("div",null,[h("div",H,[g(c,null,{default:j((()=>[g(u,{icon:"lucide:search"},{default:j((()=>[_(h("input",{"onUpdate:modelValue":d[0]||(d[0]=s=>y(js)?js.value=s:null),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[w,k(js)]])])),_:1})])),_:1}),h("div",K,[1===k(_s).length?(v(),f("span",V,"1 record found")):(v(),f("span",W,U(k(_s).length)+" records found",1))]),h("div",$,[g(p,{onClick:vs,color:"primary",icon:"fas fa-plus",elevated:""},{default:j((()=>[b(" New User ")])),_:1})])]),h("div",q,[g(M,{class:C([0!==k(_s).length&&"is-hidden"]),title:"We couldn't find any matching results.",subtitle:"Too bad. Looks like we couldn't find any matching results for the\n          search terms you've entered. Please try different search terms or\n          criteria.",larger:""},{image:j((()=>[z,B])),_:1},8,["class"]),h("div",D,[g(A,{name:"list-complete",tag:"div"},{default:j((()=>[(v(!0),f(x,null,R(k(_s),((s,a)=>(v(),f("div",{key:a,class:"list-view-item"},[h("div",F,[g(P,{color:"primary",size:"large",initials:gs(s?.username)},null,8,["initials"]),h("div",J,[h("h3",null,U(s?.username),1),h("span",null,[g(fs,{icon:"lucide:map-pin"}),h("span",null,U(s?.email),1)])]),h("div",O,[h("div",Y,[g(ws,{label:s?.role,color:"primary",rounded:"",elevated:""},null,8,["label"])]),h("div",G,[h("div",Q,[h("span",null,U(s?.phone_number),1),X]),Z,h("div",ss,[h("span",null,U(s?.role),1),as]),ls,h("div",es,[h("span",null,U(k(T)(s?.last_login)),1),is])]),g(ks,{icon:"lucide:more-vertical",spaced:"",right:""},{content:j((()=>[ts,h("a",{role:"menuitem",class:"dropdown-item is-media",onClick:a=>{return l=s.id,cs.value=l,void(N.value=!0);var l}},ns,8,rs),os,ms,h("a",{role:"menuitem",onClick:a=>k(I).deleteUser(s.id),class:"dropdown-item is-media"},us,8,ds)])),_:2},1024)])])])))),128))])),_:1})])]),k(_s).length>5?(v(),E(ys,{key:0,"item-per-page":10,"total-items":873,"current-page":42,"max-links-displayed":5})):L("",!0)]),k(N)?(v(),E(S,{key:0,openUserModal:k(N),userId:k(cs),"onUpdate:closeModalHandler":ps,"onUpdate:callOnSuccess":hs},null,8,["openUserModal","userId"])):L("",!0)],64)}}}),[["__file","UsersList.vue"]]);export{cs as default};
