import{aA as e,aB as n}from"../../index-BnGzoMia.js";function t(e,n){for(var t=0;t<n.length;t++){const r=n[t];if("string"!=typeof r&&!Array.isArray(r))for(const n in r)if("default"!==n&&!(n in e)){const t=Object.getOwnPropertyDescriptor(r,n);t&&Object.defineProperty(e,n,t.get?t:{enumerable:!0,get:()=>r[n]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var r="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e,0)},o=function(e,n){return Array.prototype.slice.call(e,n)},i=function(e,n,t){e&&r((function(){e.apply(t||null,n||[])}))},u=e.CustomEvent;var a=function(){try{var e=new u("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(n){}return!1}()?u:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,n){var t=document.createEvent("CustomEvent");return n?t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail):t.initCustomEvent(e,!1,!1,void 0),t}:function(e,n){var t=document.createEventObject();return t.type=e,n?(t.bubbles=Boolean(n.bubbles),t.cancelable=Boolean(n.cancelable),t.detail=n.detail):(t.bubbles=!1,t.cancelable=!1,t.detail=void 0),t},c=[],l="",f=/^on/;for(l in e)f.test(l)&&c.push(l.slice(2));var v=a,d=c,s=e.document,m=function(e,n,t,r){return e.addEventListener(n,t,r)},p=function(e,n,t,r){return e.removeEventListener(n,t,r)},g=[];function h(e,n,t){var r=function(e,n,t){var r,o;for(r=0;r<g.length;r++)if((o=g[r]).element===e&&o.type===n&&o.fn===t)return r}(e,n,t);if(r){var o=g[r].wrapper;return g.splice(r,1),o}}e.addEventListener||(m=function(n,t,r){return n.attachEvent("on"+t,function(n,t,r){var o=h(n,t,r)||function(n,t,r){return function(t){var o=t||e.event;o.target=o.target||o.srcElement,o.preventDefault=o.preventDefault||function(){o.returnValue=!1},o.stopPropagation=o.stopPropagation||function(){o.cancelBubble=!0},o.which=o.which||o.keyCode,r.call(n,o)}}(n,0,r);return g.push({wrapper:o,element:n,type:t,fn:r}),o}(n,t,r))},p=function(e,n,t){var r=h(e,n,t);if(r)return e.detachEvent("on"+n,r)});var b={},y="(?:^|\\s)",E="(?:\\s|$)";function S(e){var n=b[e];return n?n.lastIndex=0:b[e]=n=new RegExp(y+e+E,"g"),n}var w=function(e,n){var t=n||{},r={};return void 0===e&&(e={}),e.on=function(n,t){return r[n]?r[n].push(t):r[n]=[t],e},e.once=function(n,t){return t._once=!0,e.on(n,t),e},e.off=function(n,t){var o=arguments.length;if(1===o)delete r[n];else if(0===o)r={};else{var i=r[n];if(!i)return e;i.splice(i.indexOf(t),1)}return e},e.emit=function(){var n=o(arguments);return e.emitterSnapshot(n.shift()).apply(this,n)},e.emitterSnapshot=function(n){var u=(r[n]||[]).slice(0);return function(){var r=o(arguments),a=this||e;if("error"===n&&!1!==t.throws&&!u.length)throw 1===r.length?r[0]:r;return u.forEach((function(o){t.async?i(o,r,a):o.apply(a,r),o._once&&e.off(n,o)})),e}},e},C={add:m,remove:p,fabricate:function(e,n,t){var r=-1===d.indexOf(n)?new v(n,{detail:t}):function(){var e;s.createEvent?(e=s.createEvent("Event")).initEvent(n,!0,!0):s.createEventObject&&(e=s.createEventObject());return e}();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+n,r)}},O={add:function(e,n){var t=e.className;t.length?S(n).test(t)||(e.className+=" "+n):e.className=n},rm:function(e,n){e.className=e.className.replace(S(n)," ").trim()}},T=document,x=T.documentElement;function N(n,t,r,o){e.navigator.pointerEnabled?C[t](n,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[r],o):e.navigator.msPointerEnabled?C[t](n,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[r],o):(C[t](n,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[r],o),C[t](n,r,o))}function P(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var n=e.button;return void 0!==n?1&n?1:2&n?3:4&n?2:0:void 0}function X(n,t){return void 0!==e[t]?e[t]:x.clientHeight?x[n]:T.body[n]}function Y(e,n,t){var r,o=(e=e||{}).className||"";return e.className+=" gu-hide",r=T.elementFromPoint(n,t),e.className=o,r}function B(){return!1}function j(){return!0}function A(e){return e.width||e.right-e.left}function M(e){return e.height||e.bottom-e.top}function D(e){return e.parentNode===T?null:e.parentNode}function I(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||R(e)}function R(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||R(D(e))))}function _(e){return e.nextElementSibling||function(){var n=e;do{n=n.nextSibling}while(n&&1!==n.nodeType);return n}()}function L(e,n){var t=function(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}(n),r={pageX:"clientX",pageY:"clientY"};return e in r&&!(e in t)&&r[e]in t&&(e=r[e]),t[e]}var F=function(e,n){var t,r,o,i,u,a,c,l,f,v,d;1===arguments.length&&!1===Array.isArray(e)&&(n=e,e=[]);var s,m=null,p=n||{};void 0===p.moves&&(p.moves=j),void 0===p.accepts&&(p.accepts=j),void 0===p.invalid&&(p.invalid=function(){return!1}),void 0===p.containers&&(p.containers=e||[]),void 0===p.isContainer&&(p.isContainer=B),void 0===p.copy&&(p.copy=!1),void 0===p.copySortSource&&(p.copySortSource=!1),void 0===p.revertOnSpill&&(p.revertOnSpill=!1),void 0===p.removeOnSpill&&(p.removeOnSpill=!1),void 0===p.direction&&(p.direction="vertical"),void 0===p.ignoreInputTextSelection&&(p.ignoreInputTextSelection=!0),void 0===p.mirrorContainer&&(p.mirrorContainer=T.body);var g=w({containers:p.containers,start:function(e){var n=k(e);n&&z(n)},end:K,cancel:q,remove:$,destroy:function(){b(!0),H({})},canMove:function(e){return!!k(e)},dragging:!1});return!0===p.removeOnSpill&&g.on("over",(function(e){O.rm(e,"gu-hide")})).on("out",(function(e){g.dragging&&O.add(e,"gu-hide")})),b(),g;function h(e){return-1!==g.containers.indexOf(e)||p.isContainer(e)}function b(e){var n=e?"remove":"add";N(x,n,"mousedown",R),N(x,n,"mouseup",H)}function y(e){N(x,e?"remove":"add","mousemove",F)}function E(e){var n=e?"remove":"add";C[n](x,"selectstart",S),C[n](x,"click",S)}function S(e){s&&e.preventDefault()}function R(e){if(a=e.clientX,c=e.clientY,!(1!==P(e)||e.metaKey||e.ctrlKey)){var n=e.target,t=k(n);t&&(s=t,y(),"mousedown"===e.type&&(I(n)?n.focus():e.preventDefault()))}}function F(e){if(s)if(0!==P(e)){if(!(void 0!==e.clientX&&Math.abs(e.clientX-a)<=(p.slideFactorX||0)&&void 0!==e.clientY&&Math.abs(e.clientY-c)<=(p.slideFactorY||0))){if(p.ignoreInputTextSelection){var n=L("clientX",e)||0,r=L("clientY",e)||0;if(I(T.elementFromPoint(n,r)))return}var l=s;y(!0),E(),K(),z(l);var f,d={left:(f=o.getBoundingClientRect()).left+X("scrollLeft","pageXOffset"),top:f.top+X("scrollTop","pageYOffset")};i=L("pageX",e)-d.left,u=L("pageY",e)-d.top,O.add(v||o,"gu-transit"),function(){if(t)return;var e=o.getBoundingClientRect();(t=o.cloneNode(!0)).style.width=A(e)+"px",t.style.height=M(e)+"px",O.rm(t,"gu-transit"),O.add(t,"gu-mirror"),p.mirrorContainer.appendChild(t),N(x,"add","mousemove",W),O.add(p.mirrorContainer,"gu-unselectable"),g.emit("cloned",t,o,"mirror")}(),W(e)}}else H({})}function k(e){if(!(g.dragging&&t||h(e))){for(var n=e;D(e)&&!1===h(D(e));){if(p.invalid(e,n))return;if(!(e=D(e)))return}var r=D(e);if(r)if(!p.invalid(e,n))if(p.moves(e,r,n,_(e)))return{item:e,source:r}}}function z(e){var n,t;n=e.item,t=e.source,("boolean"==typeof p.copy?p.copy:p.copy(n,t))&&(v=e.item.cloneNode(!0),g.emit("cloned",v,e.item,"copy")),r=e.source,o=e.item,l=f=_(e.item),g.dragging=!0,g.emit("drag",o,r)}function K(){if(g.dragging){var e=v||o;V(e,D(e))}}function U(){s=!1,y(!0),E(!0)}function H(e){if(U(),g.dragging){var n=v||o,i=L("clientX",e)||0,u=L("clientY",e)||0,a=Q(Y(t,i,u),i,u);a&&(v&&p.copySortSource||!v||a!==r)?V(n,a):p.removeOnSpill?$():q()}}function V(e,n){var t=D(e);v&&p.copySortSource&&n===r&&t.removeChild(o),J(n)?g.emit("cancel",e,r,r):g.emit("drop",e,n,r,f),G()}function $(){if(g.dragging){var e=v||o,n=D(e);n&&n.removeChild(e),g.emit(v?"cancel":"remove",e,n,r),G()}}function q(e){if(g.dragging){var n=arguments.length>0?e:p.revertOnSpill,t=v||o,i=D(t),u=J(i);!1===u&&n&&(v?i&&i.removeChild(v):r.insertBefore(t,l)),u||n?g.emit("cancel",t,r,r):g.emit("drop",t,i,r,f),G()}}function G(){var e=v||o;U(),t&&(O.rm(p.mirrorContainer,"gu-unselectable"),N(x,"remove","mousemove",W),D(t).removeChild(t),t=null),e&&O.rm(e,"gu-transit"),d&&clearTimeout(d),g.dragging=!1,m&&g.emit("out",e,m,r),g.emit("dragend",e),r=o=v=l=f=d=m=null}function J(e,n){var i;return i=void 0!==n?n:t?f:_(v||o),e===r&&i===l}function Q(e,n,t){for(var i=e;i&&!u();)i=D(i);return i;function u(){if(!1===h(i))return!1;var u=Z(i,e),a=ee(i,u,n,t);return!!J(i,a)||p.accepts(o,i,r,a)}}function W(e){if(t){e.preventDefault();var n=L("clientX",e)||0,a=L("clientY",e)||0,c=n-i,d=a-u;t.style.left=c+"px",t.style.top=d+"px";var s=v||o,h=Y(t,n,a),b=Q(h,n,a),y=null!==b&&b!==m;(y||null===b)&&(m&&C("out"),m=b,y&&C("over"));var E=D(s);if(b!==r||!v||p.copySortSource){var S,w=Z(b,h);if(null!==w)S=ee(b,w,n,a);else{if(!0!==p.revertOnSpill||v)return void(v&&E&&E.removeChild(s));S=l,b=r}(null===S&&y||S!==s&&S!==_(s))&&(f=S,b.insertBefore(s,S),g.emit("shadow",s,b,r))}else E&&E.removeChild(s)}function C(e){g.emit(e,s,m,r)}}function Z(e,n){for(var t=n;t!==e&&D(t)!==e;)t=D(t);return t===x?null:t}function ee(e,n,t,r){var o="horizontal"===p.direction,i=n!==e?function(){var e=n.getBoundingClientRect();if(o)return u(t>e.left+A(e)/2);return u(r>e.top+M(e)/2)}():function(){var n,i,u,a=e.children.length;for(n=0;n<a;n++){if(u=(i=e.children[n]).getBoundingClientRect(),o&&u.left+u.width/2>t)return i;if(!o&&u.top+u.height/2>r)return i}return null}();return i;function u(e){return e?_(n):n}}};const k=t({__proto__:null,default:n(F)},[F]);export{k as d};
