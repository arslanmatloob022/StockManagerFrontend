import{m as n,u as t,a as e,f as r,e as o}from"./DsK3fUzE.js";function l(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function i(r){return null===r||n(r)||t(r)?1:e(r)?2:void 0}const u={};function c(n,t){return s(n,"boolean"!=typeof u.includeImageAlt||u.includeImageAlt,"boolean"!=typeof u.includeHtml||u.includeHtml)}function s(n,t,e){if(function(n){return Boolean(n&&"object"==typeof n)}(n)){if("value"in n)return"html"!==n.type||e?n.value:"";if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return a(n.children,t,e)}return Array.isArray(n)?a(n,t,e):""}function a(n,t,e){const r=[];let o=-1;for(;++o<n.length;)r[o]=s(n[o],t,e);return r.join("")}function f(n,t,e,r){const o=n.length;let l,i=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,e=e>0?e:0,r.length<1e4)l=Array.from(r),l.unshift(t,e),n.splice(...l);else for(e&&n.splice(t,e);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),n.splice(...l),i+=1e4,t+=1e4}function p(n,t){return n.length>0?(f(n,n.length,0,t),n):t}const h={}.hasOwnProperty;function g(n){const t={};let e=-1;for(;++e<n.length;)d(t,n[e]);return t}function d(n,t){let e;for(e in t){const r=(h.call(n,e)?n[e]:void 0)||(n[e]={}),o=t[e];let l;if(o)for(l in o){h.call(r,l)||(r[l]=[]);const n=o[l];m(r[l],Array.isArray(n)?n:n?[n]:[])}}}function m(n,t){let e=-1;const r=[];for(;++e<t.length;)("after"===t[e].add?n:r).push(t[e]);f(n,0,0,r)}function y(n,t,e){const r=[];let o=-1;for(;++o<n.length;){const l=n[o].resolveAll;l&&!r.includes(l)&&(t=l(t,e),r.push(l))}return t}function A(n,t,e,o){const l=o?o-1:Number.POSITIVE_INFINITY;let i=0;return function(o){if(r(o))return n.enter(e),u(o);return t(o)};function u(o){return r(o)&&i++<l?(n.consume(o),u):(n.exit(e),t(o))}}const I={partial:!0,tokenize:function(n,t,e){return function(t){return r(t)?A(n,l,"linePrefix")(t):l(t)};function l(n){return null===n||o(n)?t(n):e(n)}}};export{g as a,I as b,i as c,A as f,l as n,p,y as r,f as s,c as t};
