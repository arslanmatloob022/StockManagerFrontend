import{_ as a}from"./Di3K6sLR.js";import{_ as s}from"./BbyIlV3K.js";import{_ as e}from"./BQiUk_jr.js";import{e as l,S as o,W as r,a as t,c as i,o as c,g as d,j as n,v as u,k as p,l as m,J as v,ag as f,A as h,y as j,F as g,C as y,aK as _,a0 as k,a1 as b,u as w,a2 as C}from"../../index-BBZ1hd8o.js";import{_ as x}from"./C0R5wJ4N.js";import F from"./Da-a59BU.js";import"./dSHPAv9a.js";import"./D5UZqAJ_.js";import"./Dd7g9pyW.js";import"./DPBYIlso.js";import"./UwApheaH.js";import"./iUM7Auia.js";/* empty css        */import"./Des8qgZF.js";import"./i1kYR7QW.js";import"./DXPdfAjB.js";import"./BdjI-zdd.js";import"./CrSly68g.js";import"./Dcy2DR9j.js";const L=a=>(k("data-v-87a66a38"),a=a(),b(),a),P={class:"card-grid-toolbar"},E={class:"buttons"},I=L((()=>u("span",{class:"icon"},[u("i",{"aria-hidden":"true",class:"fas fa-plus"})],-1))),N=L((()=>u("span",null,"New Product",-1))),S={class:"card-grid card-grid-v2"},T=L((()=>u("img",{src:x,alt:""},null,-1))),U={class:"card-grid-item"},q={class:"card hover-card"},A={class:"card-header"},V={class:"card-header-title is-size-5 has-text-weight-bold"},$={class:"card-header-icon buttons-container"},z=L((()=>u("i",{class:"fas fa-edit"},null,-1))),D=L((()=>u("i",{class:"fas fa-trash"},null,-1))),H={class:"card-content"},J={class:"content"},K={class:"info-block"},M=L((()=>u("span",{class:"info-label"},"Price:",-1))),O={class:"info-value"},Q={class:"info-block"},W=L((()=>u("span",{class:"info-label"},"Quantity:",-1))),B={class:"info-value"},G={class:"info-block"},R=L((()=>u("span",{class:"info-label"},"Tags:",-1))),X={class:"info-value"},Y={class:"description"},Z=L((()=>u("footer",{class:"card-footer"},[u("a",{href:"#",class:"card-footer-item has-text-primary"},"View Details")],-1))),aa=C(l({__name:"ItemsList",setup(l){const k=o(),b=r(),C=t([]),x=t(!1),L=t(null),aa=t(""),sa=async()=>{try{const a=await k.get("/product/");C.value=a.data}catch(a){console.error("Error fetching products:",a),b.error("Failed to fetch products.")}},ea=i((()=>aa.value?C.value.filter((a=>[a.name,a.description].some((a=>a.toLowerCase().includes(aa.value.toLowerCase()))))):C.value)),la=async()=>{await sa()};return c(sa),(l,o)=>{const r=e,t=s,i=a;return d(),n("div",null,[u("div",P,[p(r,{icon:"lucide:search"},{default:m((()=>[v(u("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>aa.value=a),class:"input custom-text-filter",placeholder:"Search products..."},null,512),[[f,aa.value]])])),_:1}),u("div",E,[p(t,{onClick:o[1]||(o[1]=()=>{x.value=!0,L.value=null}),color:"primary",raised:""},{default:m((()=>[I,N])),_:1})])]),u("div",S,[0===ea.value.length?(d(),h(i,{key:0,title:"No Products Found",subtitle:"Try changing your search terms.",larger:""},{image:m((()=>[T])),_:1})):j("",!0),p(_,{name:"list",tag:"div",class:"columns is-multiline"},{default:m((()=>[(d(!0),n(g,null,y(ea.value,(a=>(d(),n("div",{key:a.id,class:"column is-4"},[u("div",U,[u("div",q,[u("header",A,[u("h3",V,w(a.name),1),u("div",$,[p(t,{icon:"",color:"info",rounded:"",onClick:s=>{return e=a.id,L.value=e,void(x.value=!0);var e}},{default:m((()=>[z])),_:2},1032,["onClick"]),p(t,{icon:"",color:"danger",rounded:"",class:"ml-2",onClick:s=>(async a=>{try{await k.delete(`/product/${a}/`),C.value=C.value.filter((s=>s.id!==a)),b.success("Product deleted successfully.")}catch(s){console.error("Error deleting product:",s),b.error("Failed to delete product.")}})(a.id)},{default:m((()=>[D])),_:2},1032,["onClick"])])]),u("div",H,[u("div",J,[u("div",K,[M,u("span",O,"$"+w(a.price),1)]),u("div",Q,[W,u("span",B,w(a.quantity),1)]),u("div",G,[R,u("span",X,w(a.tag.join(", ")),1)]),u("p",Y,w(a.description?.slice(0,100)||"No description available."),1)])]),Z])])])))),128))])),_:1})]),x.value?(d(),h(F,{key:0,"open-product-modal":x.value,"product-id":L.value,"onUpdate:closeModalHandler":o[2]||(o[2]=a=>x.value=!1),"onUpdate:callOnSuccess":la},null,8,["open-product-modal","product-id"])):j("",!0)])}}}),[["__scopeId","data-v-87a66a38"],["__file","ItemsList.vue"]]);export{aa as default};
